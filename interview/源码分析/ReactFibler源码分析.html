<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>参考 | Shymean</title>
    <meta name="description" content="fe">
    <link rel="stylesheet" href="/interview/assets/style.4eab0d57.css">
    <link rel="modulepreload" href="/interview/assets/app.062798f6.js">
    <link rel="modulepreload" href="/interview/assets/源码分析_ReactFibler源码分析.md.f04a13c5.lean.js">
    
    <meta name="twitter:title" content="参考 | Shymean">
  <meta property="og:title" content="参考 | Shymean">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/interview/" aria-label="Shymean, back to home" data-v-40587210 data-v-016a8bd8><!----> Shymean</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/导读" data-v-49fe041d>导读 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>前端</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/HTML/HTML" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>HTML</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/CSS/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>CSS</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/JavaScript/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>JavaScript</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/库与框架/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>库与框架</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/业务相关/前端工程化" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>业务相关</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item active" href="/interview/源码分析/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>源码分析</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/App/Android" data-v-49fe041d>App <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/后台/README" data-v-49fe041d>后台 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>计算机基础</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/计算机基础/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>计算机基础</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/数据结构和算法/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>数据结构和算法</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/网络/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>网络</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/面试/README" data-v-49fe041d>面试 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/游戏开发/README" data-v-49fe041d>游戏开发 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/读书笔记/README" data-v-49fe041d>读书笔记 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://github.com/tangxiangmin/interview" target="_blank" rel="noopener noreferrer" data-v-49fe041d>github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://shymean.com" target="_blank" rel="noopener noreferrer" data-v-49fe041d>shymean <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/导读" data-v-49fe041d>导读 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>前端</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/HTML/HTML" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>HTML</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/CSS/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>CSS</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/JavaScript/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>JavaScript</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/库与框架/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>库与框架</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/业务相关/前端工程化" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>业务相关</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item active" href="/interview/源码分析/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>源码分析</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/App/Android" data-v-49fe041d>App <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/后台/README" data-v-49fe041d>后台 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>计算机基础</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/计算机基础/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>计算机基础</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/数据结构和算法/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>数据结构和算法</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/网络/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>网络</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/面试/README" data-v-49fe041d>面试 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/游戏开发/README" data-v-49fe041d>游戏开发 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/读书笔记/README" data-v-49fe041d>读书笔记 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://github.com/tangxiangmin/interview" target="_blank" rel="noopener noreferrer" data-v-49fe041d>github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://shymean.com" target="_blank" rel="noopener noreferrer" data-v-49fe041d>shymean <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-17c48e2f><!--[--><li class="sidebar-link"><a class="sidebar-link-item active" href="/interview/源码分析/ReactFibler源码分析">ReactFibler源码分析</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#参考">参考</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#react设计思想">React设计思想</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#fiber-协程">Fiber:协程</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#调度器">调度器</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#循环暂停期间的状态控制">循环暂停期间的状态控制</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#什么时候从头重新执行">什么时候从头重新执行</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#双缓冲：状态复用">双缓冲：状态复用</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#最简单的情况">最简单的情况</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#fiber-数据结构">Fiber:数据结构</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#循环遍历树">循环遍历树</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#接入调度器">接入调度器</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#放弃循环重新开始的情况">放弃循环重新开始的情况</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#alternate">alternate</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/源码分析/React源码分析">React源码分析</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/源码分析/Redux源码分析">Redux源码分析</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/源码分析/axios源码分析">axios源码分析</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/源码分析/koa源码分析">koa源码分析</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-hidden="true">#</a></h2><ul><li><p><a href="https://bobi.ink/2019/10/18/react-fiber/" target="_blank" rel="noopener noreferrer">这可能是最通俗的 React Fiber 打开方式</a>，这篇文章写得太稳了</p></li><li><p><a href="https://zhuanlan.zhihu.com/p/37095662" target="_blank" rel="noopener noreferrer">React Fiber架构</a></p></li><li><p><a href="https://segmentfault.com/a/1190000020736966?utm_source=sf-similar-article" target="_blank" rel="noopener noreferrer">React16源码解析(一)- 图解Fiber架构</a></p></li><li><p><a href="https://react.jokcy.me/" target="_blank" rel="noopener noreferrer">https://react.jokcy.me/</a></p></li><li><p><a href="http://www.ayqy.net/blog/dive-into-react-fiber/" target="_blank" rel="noopener noreferrer">http://www.ayqy.net/blog/dive-into-react-fiber/</a></p></li><li><p><a href="https://www.youtube.com/watch?v=ZCuYPiUIONs" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=ZCuYPiUIONs</a> 视频 A Cartoon Intro to Fiber – React Conf 2017 强烈推荐</p></li><li><p><a href="https://www.zoo.team/article/about-react-fiber" target="_blank" rel="noopener noreferrer">https://www.zoo.team/article/about-react-fiber</a> 写的好像也可以</p></li></ul><h3 id="react设计思想" tabindex="-1">React设计思想 <a class="header-anchor" href="#react设计思想" aria-hidden="true">#</a></h3><p><a href="https://www.kancloud.cn/kancloud/react-in-depth/47779" target="_blank" rel="noopener noreferrer">https://www.kancloud.cn/kancloud/react-in-depth/47779</a> 这篇文章写得很好，但是好像没有更新了</p><p>React设计有几个核心的点</p><p><strong>createElement</strong></p><p>通过JSX编写富有表达力的声明式UI代码，JSX只是一种用于创组件的XML语法，最终是通过JavaScript对象对应的虚拟DOM来描述真实DOM节点</p><p>借助虚拟DOM，可以实现<code>component</code>、<code>props</code>、<code>children</code>、<code>onEvent</code>等多种技术层面的封装，从而构建大型Web应用</p><p><strong>整体刷新</strong></p><p>如果由每个组件自己去维护自己的数据状态和UI更新，工作量无疑是很庞大的，不如每次都从整体来刷新UI。这听上去可能有性能问题，但我们有虚拟DOM，可以通过diff算法来极大地提高性能</p><p>diff算法目的是对比新旧节点列表，尽可能地减少操作DOM(创建、更新、移动、删除)的步骤，比较有代表性的实现包括<code>snabbdom</code>、<code>infernoJS</code>等</p><p><strong>递归diff</strong></p><p>既然是整体刷新，意味着每轮更新都需要从根节点开始遍历diff新旧节点，遍历树最简单的方式就是递归。递归的优势是逻辑清晰，实现简单</p><p><strong>循环diff</strong></p><p>递归的问题在于无法临时中断，这导致开始递归之后就必须等待它执行完毕，如果时间过长，则会导致浏览器无法响应用户的交互。</p><p>因此React16引入了Fiber的概念，它的主要作用是将无法中断的递归diff改成可以临时中断的循环diff，给浏览器留够可以交互的时间，让页面看起来不卡顿。</p><p>Fiber是本文关注的目标点。</p><h2 id="fiber-协程" tabindex="-1">Fiber:协程 <a class="header-anchor" href="#fiber-协程" aria-hidden="true">#</a></h2><p>Fiber 也称协程、或者纤程。协程跟线程还不太一样，跟进程就更不一样了。首先明确，协程只是一种控制流程的让出机制。</p><p>普通函数的执行无法被中断，如果要递归遍历完整个树，就需要等到他执行完毕</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">walk</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> 
    <span class="token comment">// ...一些耗时操作</span>
    <span class="token function">walk</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token function">walk</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但ES6之后，情况发生了变化，我们可以使用<code>Generator</code>了</p><div class="language-js"><pre><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">walk</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token comment">// ...一些耗时操作</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">walk</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">walk</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> w <span class="token operator">=</span> <span class="token function">walk</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 可以做点事情</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 可以做点事情</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 可以做点事情</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>浏览器在一帧中要干很多事情，执行JavaScript代码只是一小部分任务，如果占用时间过多，就会导致页面卡顿</p><p><img src="http://img.shymean.com/oPic/1620309535700_941.png" alt=""></p><p>假设每次walk的耗时操作需要执行10ms，一共执行5次，</p><ul><li>在递归模式下，整个程序会占用50ms</li><li>在Generator下，每10ms之后，控制权归还给代码，至于何时调用next，则由代码控制</li></ul><p>这个过程蕴含了这个”协“字的真正含义：互相信任，相互协作</p><ul><li>浏览器信任函数，每次只执行10ms</li><li>函数信任浏览器，每隔一段时间就继续调用函数</li></ul><p>这就是React Fiber的核心思想：React diff过程可以被中断，将控制权交回浏览器（浏览器可以执行高优先级的任务避免页面卡顿），等待浏览器空闲后再恢复diff。</p><p>看起来挺简单的，上面的短代码用Generator就可以实现了，那React为什么没有采用呢？来看看这个<a href="https://github.com/facebook/react/issues/7942" target="_blank" rel="noopener noreferrer">回答</a></p><p><img src="http://img.shymean.com/oPic/1621870529136_902.png" alt=""></p><p>简单来说就是Generator不能在栈调用的时候让出，除非把所有的嵌套函数都改成Generator，加上无法复用和恢复某些状态，以及额外的语法开销等问题。最终，React决定自己搞一个协程。</p><p>根据协程的信任机制，我们相信浏览器在空闲的时候会执行diff，我们也自觉的在执行一段时间后将控制权交给浏览器。</p><p>对于第一个点，浏览器甚至提供了一个API，让我们注册在浏览器空闲的时候需要做的事情</p><div class="language-js"><pre><code>window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;做点啥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>当然在<code>requestIdleCallback</code>中要保持自觉，虽然能做，但只能做一点点。那一点点是多久呢？来个经验值吧，<code>5ms</code>看起来还可以。</p><p>对于第二个点，就需要我们在5ms过后归还控制权，可以在完成单个最小工作单元（比如diff一个节点）之后，就可以检测有没有时间剩余，如果没有剩余时间，就暂停了嘛。</p><h2 id="调度器" tabindex="-1">调度器 <a class="header-anchor" href="#调度器" aria-hidden="true">#</a></h2><p>在协程的思路下，需要有一个调度器来负责什么时候执行diff任务，什么时候归还控制权执行其他高优先级交互任务。</p><p>其核心思想很简单：在浏览器空闲的时候做点diff任务，没时间了就归还控制权</p><div class="language-js"><pre><code>window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;做点啥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在浏览器每次空闲的时候做点事情</p><div class="language-js"><pre><code><span class="token keyword">const</span> <span class="token function-variable function">performWork</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;做点啥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 时间不够了，下次有空了继续来</span>
        <span class="token function">performWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">performWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>基于这个思路，我们可以实现一个简版的调度器</p><div class="language-js"><pre><code><span class="token keyword">const</span> frame <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> deadline <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">shouldYield</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> deadline<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">schedule</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 按顺序执行queue</span>
<span class="token keyword">const</span> <span class="token function-variable function">flushWork</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    deadline <span class="token operator">=</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> frame
    <span class="token keyword">const</span> task <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>task <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">shouldYield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">task</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 还有任务未执行完，则等待下一次的调度</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">schedule</span><span class="token punctuation">(</span>flushWork<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">scheduleWork</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">task</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span>
    <span class="token function">schedule</span><span class="token punctuation">(</span>flushWork<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>调度器更像是一个无情的工作机器，有任务了就安排在合适的实际执行。然而真正的难点不在于执行任务本身，而在于状态控制。</p><h2 id="循环暂停期间的状态控制" tabindex="-1">循环暂停期间的状态控制 <a class="header-anchor" href="#循环暂停期间的状态控制" aria-hidden="true">#</a></h2><p>假设现在有1到10这个10个节点，理想状态下，整个工作流程按照 开始-暂停-继续-暂停-...-完成就结束了，大家都相安无事。</p><p>第一个问题：那么我们可以先更新已经执行完成的节点的DOM吗？</p><p>答案是不行，更新DOM节点就意味着用户能看见页面的更新，在任务未全部执行完之前就更新DOM，用户在某些时刻会看见部分新UI部分旧UI同时存在，以及页面闪烁等问题。</p><p>解决办法是：在diff的阶段只负责收集每个节点的变化，最后再同步将所有变化统一更新到DOM上。这个过程类似于git开发，在开发的时候可以随时<code>git add</code> 一些变化（如添加、更新、删除等）进去，最后统一进行<code>git commit</code></p><p>第二个问题：假设在第一次空闲时间我们执行到了第3个节点，在交出控制权后的这段时间用户点击了一个按钮（或者是其他一些奇奇怪怪的操作），影响了第1个节点的状态，那是不是意味着我们需要从头重新计算呢?</p><p>状态的准确性决定了最后DOM状态的统一，在这种情况下，肯定需要从头计算。</p><p>随之而来的第三个问题：从头计算会不会造成性能浪费，之前已经完成工作的那一部分都白费了？</p><p>以至于第四个问题：如果每次在未执行完所有任务前，都由于新触发的状态更新导致重头计算，那是不是永远无法完成所有任务了？</p><p>在同步递归diff的时候不会存在这些问题，用户的交互始终都会在所有状态更新之后才会重新修改状态（当然每次更新状态都重新触发diff也是不明智的，因此有nextTick等方式合并状态更新。</p><p>而在异步执行diff任务时，必须要考虑这些问题，这些问题导致整个实现非常复杂。</p><h3 id="什么时候从头重新执行" tabindex="-1">什么时候从头重新执行 <a class="header-anchor" href="#什么时候从头重新执行" aria-hidden="true">#</a></h3><p>在调度器重新调用执行任务前，都会去判断是否有更高优先级的任务插进来，如果有，不好意思，打断循环，重新开始</p><p>任务的优先级怎么定义呢？</p><p>更新原因的不同，导致他们的优先级不同， <a href="https://segmentfault.com/a/1190000038947307" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000038947307</a></p><p>事件优先级，不同的事件对应不同优先级</p><p>更新优先级，根据事件优先级计算更新优先级</p><p>任务优先级，上面提到的循环任务，存在前比后低，直接取消前；前等于后，复用前者；前比后高，先执行前，再对后重新执行一次调度</p><p>调度优先级</p><h3 id="双缓冲：状态复用" tabindex="-1">双缓冲：状态复用 <a class="header-anchor" href="#双缓冲：状态复用" aria-hidden="true">#</a></h3><p>由于已经访问过的节点还有可能被从头访问，因此，在单次访问期间，不能直接修改已经变化的节点。</p><p>回想一下diff过程，新旧VNode进行对对比，新节点会保存更新后的数据状态，同时在处理新节点时会生成新的子节点，这些已经生成的子节点是不是可以复用一下呢？</p><p>所以每个节点需要保存变化前的数据，还需要保存上一次循环时已经处理好的即将变化之后的数据，这样可以保证重新循环时原始的数据不会被污染，也可以在复用上次循环时已经执行的任务</p><p>React把新的Vnode叫做WIP（work in progress）</p><p>由于每个节点默认都有其变化前的数据，再创建一个备份节点用于保存变化后的数据，最后将旧节点替换成备份节点就可以了吧，这里用到了双缓冲。当然也不是每个备份节点都可以被重复使用。</p><p>这个可以理解为<code>git checkout</code>，在分支上进行的所有改动都会不影响master，结合上面的add 和commit，最后在merge到master上，完成整个界面的更新。</p><blockquote><p>双缓冲技术：图形绘制引擎一般会使用双缓冲技术，先将图片绘制到一个缓冲区，再一次性传递给屏幕进行显示，这样可以防止屏幕抖动，优化渲染性能。</p></blockquote><p><img src="http://img.shymean.com/oPic/1620740677909_166.png" alt=""></p><h3 id="最简单的情况" tabindex="-1">最简单的情况 <a class="header-anchor" href="#最简单的情况" aria-hidden="true">#</a></h3><p>上面提到的这些方法，都是为了解决异步状态同步的问题。</p><p>在不考虑性能和始终无法结束的问题，假设React就是简单的每次变化都重新计算，这样看起来就会简单很多。</p><h2 id="fiber-数据结构" tabindex="-1">Fiber:数据结构 <a class="header-anchor" href="#fiber-数据结构" aria-hidden="true">#</a></h2><p>了解了上面的需求背景之后，现在来设计一下数据结构</p><h3 id="循环遍历树" tabindex="-1">循环遍历树 <a class="header-anchor" href="#循环遍历树" aria-hidden="true">#</a></h3><p>把VNode树的递归遍历转换成循环遍历，是实现可中断调度的核心。</p><p>使用链表就可以实现，每个节点维持对于父节点和下一个兄弟节点的引用，就可以将树的递归修改为链表的遍历</p><div class="language-ts"><pre><code><span class="token keyword">class</span> <span class="token class-name">TreeNode</span> <span class="token punctuation">{</span>
    val<span class="token operator">:</span> <span class="token builtin">any</span>
    parent<span class="token operator">:</span> TreeNode <span class="token comment">// 父节点</span>
    child<span class="token operator">:</span> TreeNode <span class="token comment">// 第一个子节点</span>
    nextSibling<span class="token operator">:</span> TreeNode <span class="token comment">// 下一个兄弟节点</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> child<span class="token punctuation">,</span> nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent
        <span class="token keyword">this</span><span class="token punctuation">.</span>child <span class="token operator">=</span> child
        <span class="token keyword">this</span><span class="token punctuation">.</span>nextSibling <span class="token operator">=</span> nextSibling
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">walk</span><span class="token punctuation">(</span>treeNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> treeNode

    <span class="token keyword">while</span> <span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...处理单个节点</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            current <span class="token operator">=</span> current<span class="token punctuation">.</span>child
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            current <span class="token operator">=</span> current<span class="token punctuation">.</span>nextSibling
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 处理父元素的兄弟元素</span>
            <span class="token keyword">let</span> next <span class="token operator">=</span> current<span class="token punctuation">.</span>parent
            <span class="token keyword">while</span> <span class="token punctuation">(</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    next <span class="token operator">=</span> next<span class="token punctuation">.</span>nextSibling
                    <span class="token keyword">break</span>
                <span class="token punctuation">}</span>
                next <span class="token operator">=</span> next<span class="token punctuation">.</span>parent
            <span class="token punctuation">}</span>
            current <span class="token operator">=</span> next
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//      a</span>
<span class="token comment">//   b     c</span>
<span class="token comment">// d  e  f</span>
<span class="token comment">// a -&gt; b -&gt; d -&gt; e -&gt; 重回b -&gt; c -&gt; f -&gt; 重回c -&gt; 重回a</span>
</code></pre></div><p>在改成链表的循环之后，就可以随时暂停和退出了</p><h3 id="接入调度器" tabindex="-1">接入调度器 <a class="header-anchor" href="#接入调度器" aria-hidden="true">#</a></h3><p>调度器提供了一个<code>shouldYield</code>的方法，来控制什么时候退出循环；提供了一个<code>scheduleWork</code>方法，来控制什么时候继续循环</p><p>在最简单的情况下，只需要在每次循环时判断一下就可以了</p><div class="language-js"><pre><code><span class="token keyword">let</span> current

<span class="token keyword">function</span> <span class="token function">walk</span><span class="token punctuation">(</span><span class="token parameter">treeNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    current <span class="token operator">=</span> treeNode
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">shouldYield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 退出循环</span>
            <span class="token function">scheduleWork</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token function">walk</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token comment">// 同时通知调度器在合适的时候从当前节点遍历</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> 
        <span class="token punctuation">}</span>
        <span class="token comment">// ...正常遍历流程</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="放弃循环重新开始的情况" tabindex="-1">放弃循环重新开始的情况 <a class="header-anchor" href="#放弃循环重新开始的情况" aria-hidden="true">#</a></h3><p>重置current</p><h3 id="alternate" tabindex="-1">alternate <a class="header-anchor" href="#alternate" aria-hidden="true">#</a></h3><p>diff过程就是旧树与新树的对比，其中</p><ul><li>旧树是已经存在的，一般叫做current tree或者old tre</li><li>新树是从应用根节点开始，使用类组件实例render或者重新运行函数组件</li></ul></div></div><footer class="page-footer" data-v-8fcebc32 data-v-b65b4b36><div class="edit" data-v-b65b4b36><div class="edit-link" data-v-b65b4b36 data-v-55695e90><!----></div></div><div class="updated" data-v-b65b4b36><!----></div></footer><div class="next-and-prev-link" data-v-8fcebc32 data-v-e65a9748><div class="container" data-v-e65a9748><div class="prev" data-v-e65a9748><!----></div><div class="next" data-v-e65a9748><a class="link" href="/interview/源码分析/React源码分析" data-v-e65a9748><span class="text" data-v-e65a9748>React源码分析</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-e65a9748><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"app_android.md\":\"a181c9ce\",\"app_flutter.md\":\"f515bb02\",\"app_ios.md\":\"1eba1583\",\"app_webview.md\":\"58fc22cc\",\"readme.md\":\"d8359e04\",\"index.md\":\"8c37c295\",\"前端_css_css3.md\":\"a8d69721\",\"前端_css_readme.md\":\"1a0c99cd\",\"前端_css_分辨率.md\":\"6debbf62\",\"前端_css_基础知识.md\":\"bb24a0e9\",\"前端_css_性能优化.md\":\"1d428186\",\"前端_css_核心知识.md\":\"5c8a18aa\",\"前端_css_编写样式表.md\":\"2393cab5\",\"前端_css_选择器.md\":\"8d2efe94\",\"前端_html_html.md\":\"6888f85e\",\"前端_html_seo优化.md\":\"18abd121\",\"前端_html_web components.md\":\"d2e2e387\",\"前端_html_webassembly.md\":\"f763b06c\",\"前端_html_浏览器解析与渲染流程.md\":\"feec3301\",\"前端_javascript_canvas.md\":\"fe71edfd\",\"前端_javascript_dom和bom.md\":\"e386373b\",\"前端_javascript_ecmascript.md\":\"306272b4\",\"前端_javascript_eventloop.md\":\"dad49dfb\",\"前端_javascript_nodejs.md\":\"41aad6fe\",\"前端_javascript_readme.md\":\"1014db19\",\"前端_javascript_typescript.md\":\"87b58e31\",\"前端_javascript_事件流.md\":\"927305b3\",\"前端_javascript_函数式编程.md\":\"8742c510\",\"前端_javascript_原型.md\":\"51e3fc3c\",\"前端_javascript_数据类型.md\":\"7998939f\",\"前端_javascript_正则.md\":\"8b37b015\",\"前端_javascript_运算符.md\":\"21cafa0e\",\"前端_readme.md\":\"ab123e3e\",\"前端_业务相关_ab测试.md\":\"e21b4e67\",\"前端_业务相关_babel.md\":\"223a9049\",\"前端_业务相关_ci.md\":\"843c3666\",\"前端_业务相关_docker.md\":\"9d9bfe23\",\"前端_业务相关_web直播.md\":\"ccfe19c8\",\"前端_业务相关_git.md\":\"ea8aaed1\",\"前端_业务相关_mock.md\":\"0ea359a0\",\"前端_业务相关_npm.md\":\"0320bd1f\",\"前端_业务相关_webpack.md\":\"231ea6bb\",\"前端_业务相关_web安全.md\":\"6f217686\",\"前端_业务相关_前端工程化.md\":\"59a55c3d\",\"前端_业务相关_单元测试.md\":\"105fb80d\",\"前端_业务相关_可视化页面工具.md\":\"a762b606\",\"前端_业务相关_微前端.md\":\"00a64404\",\"前端_业务相关_性能优化.md\":\"22c16637\",\"前端_业务相关_数据埋点.md\":\"4b392fcd\",\"前端_业务相关_模块化.md\":\"699e8fe0\",\"前端_业务相关_类前端业务.md\":\"1518c654\",\"前端_业务相关_调试.md\":\"b74224c3\",\"前端_业务相关_跨端.md\":\"3399295e\",\"前端_库与框架_chrome扩展程序.md\":\"164ec012\",\"前端_库与框架_electron.md\":\"7016de33\",\"前端_库与框架_immutable.md\":\"b3e9c89d\",\"前端_库与框架_readme.md\":\"c02fdd8d\",\"前端_库与框架_react.md\":\"5c2ba656\",\"前端_库与框架_rxjs.md\":\"ee62fdcc\",\"前端_库与框架_svelet.md\":\"0651e73d\",\"前端_库与框架_vue.md\":\"4ab66354\",\"前端_库与框架_vuex.md\":\"0562f61d\",\"前端_库与框架_diff算法.md\":\"421eb89a\",\"前端_库与框架_几种框架的对比.md\":\"6378b5a1\",\"前端_库与框架_单页面应用router.md\":\"c41c8084\",\"前端_库与框架_微信小程序.md\":\"0eabf379\",\"前端_库与框架_技术选型.md\":\"38e95d40\",\"后台_clickhouse.md\":\"078143d4\",\"后台_java.md\":\"d112d350\",\"后台_mongodb.md\":\"a3e4dffb\",\"后台_mysql.md\":\"c195dbea\",\"后台_php.md\":\"791fb60e\",\"后台_readme.md\":\"dcf7fe6d\",\"后台_restful.md\":\"561380b3\",\"导读.md\":\"fbc538c3\",\"数据结构和算法_readme.md\":\"7336ddb0\",\"数据结构和算法_动态规划.md\":\"2c12c37a\",\"数据结构和算法_基本数据结构.md\":\"409b57c2\",\"数据结构和算法_基本算法.md\":\"082e3f23\",\"数据结构和算法_栈.md\":\"498ae413\",\"游戏开发_readme.md\":\"2a2fa357\",\"游戏开发_tiledmap教程汇总.md\":\"9f943a6e\",\"游戏开发_技能系统.md\":\"94d049cb\",\"游戏开发_游戏开发之前的准备.md\":\"c8451bcf\",\"游戏开发_游戏类型.md\":\"2d673e90\",\"源码分析_readme.md\":\"3363b547\",\"源码分析_reactfibler源码分析.md\":\"f04a13c5\",\"源码分析_react源码分析.md\":\"71769f59\",\"源码分析_redux源码分析.md\":\"489f7654\",\"源码分析_axios源码分析.md\":\"b709d6ad\",\"源码分析_koa源码分析.md\":\"099f4a1f\",\"网络_dns.md\":\"da6f33ac\",\"网络_http.md\":\"9b2f2fd5\",\"网络_nginx.md\":\"757b21cb\",\"网络_readme.md\":\"2814b435\",\"网络_rpc.md\":\"651e6edc\",\"网络_前端网络请求.md\":\"dfd29831\",\"网络_抓包.md\":\"14cc2a9a\",\"计算机基础_readme.md\":\"c2582b09\",\"计算机基础_操作系统.md\":\"e8ebf08e\",\"计算机基础_编译原理.md\":\"78e59630\",\"计算机基础_计算机网络.md\":\"9612960b\",\"计算机基础_软件工程.md\":\"a23cd2bf\",\"读书笔记_readme.md\":\"02cec0b1\",\"读书笔记_如何阅读一本书.md\":\"90e7dc29\",\"面试_readme.md\":\"9f7d45aa\",\"面试_面试记录_2017_dae.md\":\"9ffa0cb7\",\"面试_面试记录_2017_te.md\":\"4af7fa04\",\"面试_面试记录_2018_ayldm.md\":\"78e553fb\",\"面试_面试记录_2018_hdjr.md\":\"a7957552\",\"面试_面试记录_2018_md.md\":\"3d273eb4\",\"面试_面试记录_2018_pakj.md\":\"721ccbcc\",\"面试_面试记录_2018_qkcj.md\":\"d74760cb\",\"面试_面试记录_2018_sfwy.md\":\"727f8ae3\",\"面试_面试记录_2018_tw.md\":\"3457798d\",\"面试_面试记录_2018_yhkj.md\":\"15faec21\",\"面试_面试记录_2018_yskj.md\":\"fb191150\",\"面试_面试记录_2018_z8.md\":\"f92e6e47\",\"面试_面试记录_2019_bcz.md\":\"6a50a51a\",\"面试_面试记录_2019_hkjt.md\":\"45565128\",\"面试_面试记录_2019_jrtt.md\":\"657c087c\",\"面试_面试记录_2019_lds.md\":\"5acb47b1\",\"面试_面试记录_2019_qexr.md\":\"cd2da172\",\"面试_面试记录_2019_wblz.md\":\"93a713cf\",\"面试_面试记录_2019_xflx.md\":\"0469f444\",\"面试_面试题_css.md\":\"de7ab8c1\",\"面试_面试题_dom.md\":\"e0bba38e\",\"面试_面试题_ecmascript.md\":\"ebc72eba\",\"面试_面试题_html.md\":\"6869b9ef\",\"面试_面试题_readme.md\":\"3ea870b6\",\"面试_面试题_react.md\":\"b6c9e1fe\",\"面试_面试题_vue.md\":\"33d60e01\",\"面试_面试题_代码实现.md\":\"b7685612\",\"面试_面试题_代码阅读.md\":\"0048adfd\",\"面试_面试题_其他问题.md\":\"4d3285e4\",\"面试_面试题_兼容及bug.md\":\"bdd9bcf3\",\"面试_面试题_常见需求.md\":\"ba5c5b1d\",\"面试_面试题_算法实现.md\":\"24d2121b\",\"面试_面试题_网络.md\":\"c94234b4\"}")</script>
    <script type="module" async src="/interview/assets/app.062798f6.js"></script>
    
  </body>
</html>