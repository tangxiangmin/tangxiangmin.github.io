<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git flow工作流 | Shymean</title>
    <meta name="description" content="fe">
    <link rel="stylesheet" href="/interview/assets/style.4eab0d57.css">
    <link rel="modulepreload" href="/interview/assets/app.062798f6.js">
    <link rel="modulepreload" href="/interview/assets/前端_业务相关_git.md.ea8aaed1.lean.js">
    
    <meta name="twitter:title" content="git flow工作流 | Shymean">
  <meta property="og:title" content="git flow工作流 | Shymean">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/interview/" aria-label="Shymean, back to home" data-v-40587210 data-v-016a8bd8><!----> Shymean</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/导读" data-v-49fe041d>导读 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>前端</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/HTML/HTML" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>HTML</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/CSS/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>CSS</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/JavaScript/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>JavaScript</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/库与框架/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>库与框架</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/业务相关/前端工程化" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>业务相关</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/源码分析/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>源码分析</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/App/Android" data-v-49fe041d>App <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/后台/README" data-v-49fe041d>后台 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>计算机基础</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/计算机基础/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>计算机基础</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/数据结构和算法/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>数据结构和算法</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/网络/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>网络</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/面试/README" data-v-49fe041d>面试 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/游戏开发/README" data-v-49fe041d>游戏开发 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/读书笔记/README" data-v-49fe041d>读书笔记 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://github.com/tangxiangmin/interview" target="_blank" rel="noopener noreferrer" data-v-49fe041d>github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://shymean.com" target="_blank" rel="noopener noreferrer" data-v-49fe041d>shymean <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/导读" data-v-49fe041d>导读 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>前端</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/HTML/HTML" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>HTML</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/CSS/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>CSS</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/JavaScript/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>JavaScript</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/库与框架/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>库与框架</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/前端/业务相关/前端工程化" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>业务相关</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/源码分析/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>源码分析</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/App/Android" data-v-49fe041d>App <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/后台/README" data-v-49fe041d>后台 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>计算机基础</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/计算机基础/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>计算机基础</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/数据结构和算法/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>数据结构和算法</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/interview/网络/README" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>网络</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/面试/README" data-v-49fe041d>面试 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/游戏开发/README" data-v-49fe041d>游戏开发 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/interview/读书笔记/README" data-v-49fe041d>读书笔记 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://github.com/tangxiangmin/interview" target="_blank" rel="noopener noreferrer" data-v-49fe041d>github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item isExternal" href="https://shymean.com" target="_blank" rel="noopener noreferrer" data-v-49fe041d>shymean <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-49fe041d><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-17c48e2f><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/AB测试">AB测试</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/Babel">Babel</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/CI">CI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/Docker">Docker</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/Web直播">Web直播</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/interview/前端/业务相关/git">git</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#git-flow工作流">git flow工作流</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#git-cz-规范提交信息">git cz 规范提交信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#git把某一次的commit转移到另外的分支上去">git把某一次的commit转移到另外的分支上去</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#gitkeep文件">gitkeep文件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#git-reset误删除找回">git reset误删除找回</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#git-revert撤销某次提交">git revert撤销某次提交</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#git-lfs-大文件">git lfs 大文件</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#git-ignore语法规则">git ignore语法规则</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#批量删除git-tag">批量删除git tag</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/mock">mock</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/npm">npm</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/webpack">webpack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/web安全">web安全</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/前端工程化">前端工程化</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/单元测试">单元测试</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/可视化页面工具">可视化页面工具</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/微前端">微前端</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/性能优化">性能优化</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/数据埋点">数据埋点</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/模块化">模块化</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/类前端业务">类前端业务</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/调试">调试</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/前端/业务相关/跨端">跨端</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><h1 id="git" tabindex="-1">git <a class="header-anchor" href="#git" aria-hidden="true">#</a></h1><p>一些场景下的git使用方法</p><h2 id="git-flow工作流" tabindex="-1">git flow工作流 <a class="header-anchor" href="#git-flow工作流" aria-hidden="true">#</a></h2><p>参考：<a href="https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow/" target="_blank" rel="noopener noreferrer">git-flow 的工作流程</a></p><p>git flow主要用于约定整个开发团队的工作流程，最主要的是约定各种分支及checkout规范，报货master、develop、feature、hotfix、release分支等</p><h2 id="git-cz-规范提交信息" tabindex="-1">git cz 规范提交信息 <a class="header-anchor" href="#git-cz-规范提交信息" aria-hidden="true">#</a></h2><p>全局安装<a href="https://www.npmjs.com/package/commitizen" target="_blank" rel="noopener noreferrer">commitizen</a>，然后使用命令行提交commit</p><div class="language-"><pre><code># 安装时间可能会有点久
npm install -g commitizen

npm install -g cz-conventional-changelog

echo &#39;{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }&#39; &gt; ~/.czrc

# 切换到项目，使用cz 替换commit命令 
git cz
# 依次选择后续步骤
</code></pre></div><p>建议使用<a href="https://www.npmjs.com/package/commitizen#conventional-commit-messages-as-a-global-utility" target="_blank" rel="noopener noreferrer">全局设置</a></p><h2 id="git把某一次的commit转移到另外的分支上去" tabindex="-1">git把某一次的commit转移到另外的分支上去 <a class="header-anchor" href="#git把某一次的commit转移到另外的分支上去" aria-hidden="true">#</a></h2><p>我正在分支1开发，突然来了一个需求紧急上线</p><p>正常情况下，应该stash 当前正在开发的内容，然后单独从master分支切一个出来开发新需求；手忙脚乱开发完毕时发现：哦豁，忘记切分支，把改动提交到当前分支了</p><p>但是我只想合并这次提交的改动，分支1上的代码还不成熟，不想合并</p><p>那么问题来了</p><blockquote><p>git如何把某一次的commit转移到另外的分支上去呢？</p></blockquote><p>可以使用<code>cherry-pick</code>来实现，</p><ul><li>从稳定分支如master，切一个分支2出来</li><li>在分支2上使用<code>git cherry-pick commitId</code>，其中commitId就是最新需求的那次提交号</li></ul><p>当然，cherry-pick也可以转移多次的commit。</p><h2 id="gitkeep文件" tabindex="-1">gitkeep文件 <a class="header-anchor" href="#gitkeep文件" aria-hidden="true">#</a></h2><p>参考：<a href="https://www.gonever.com/post/25" target="_blank" rel="noopener noreferrer">什么是 .gitkeep</a></p><p>git不会不跟踪空文件夹。如果你的项目文件夹里边有任何的空文件夹，Git 都会忽略掉。</p><p>但某些时候期望能够将空目录进行提交，保证仓库中是完整的代码版本，这时候可以使用<code>.gitkeep</code>文件。</p><p>这是因为在空文件夹里边添加了一个文件之后，Git 就会开始跟踪这个文件夹——无论这个文件是什么，内容如何，名字是什么。</p><p>那为什么什么是 .gitkeep 呢？实际上，这个名字是社区起的，其他人可以容易的把它和 .gitignore 联系起来。Git 并没有给这个文件任何的像 .gitignore 文件一样的特殊权限。</p><p>如果你想跟踪你上游项目的空文件夹，那么你就在这个文件夹中创建一个 .gitkeep 文件。其他开发者很容易就会理解这是干什么用的。通常来说，assets 文件夹和 log 文件夹需要这样做。记住，不要把 .gitkeep 添加到 .gitignore 文件中，那样的话空文件夹就从你的文件系统中消失了。</p><h2 id="git-reset误删除找回" tabindex="-1">git reset误删除找回 <a class="header-anchor" href="#git-reset误删除找回" aria-hidden="true">#</a></h2><p>参考:<a href="https://blog.csdn.net/u011450490/article/details/60119210" target="_blank" rel="noopener noreferrer">Git Reset hard误操作回滚恢复代码</a></p><p>记一次悲惨经历：某天深夜，正噼里啪啦地在develop分支上写着带啊吗，突然需要回滚看看之前的提交，切个分支出去然后reset</p><div class="language-"><pre><code>git checkout -b tmp
</code></pre></div><p>手速太快了，没有看提示，以为成功切过去了，直接调用</p><div class="language-"><pre><code>git reset --hard head^^^
</code></pre></div><p>万万没想到之前本地存在这个<code>tmp</code>分支，导致checkout -b失败了，导致回退了develop分支上的代码。</p><p>GG，这意味着我熬夜三个小时的功能白写了</p><p>不甘心，一通搜索，找到解决办法</p><ul><li>打开项目目录<code>/.git/logs/refs/heads/branch_name</code>，打开文件，找到对应的版本号</li><li><code>git reset --hard 需要恢复的xxx版本号</code></li></ul><p>完事大吉，惊出一身冷汗。</p><p>碎觉，这件事情告诉我们，不要熬夜写代码。</p><h2 id="git-revert撤销某次提交" tabindex="-1">git revert撤销某次提交 <a class="header-anchor" href="#git-revert撤销某次提交" aria-hidden="true">#</a></h2><p>拿到一个需求A，在feature分支哼哧哼哧做完commit之后，又继续做其他功能B、C。假设这个feature分支收集了3个commit:A、B、C，正准备上线的时候，产品说功能A先不上吧，改回第一版~</p><p>reset肯定是不行的，reset到commit A时，会把B和C的代码也给回滚了。这时候可以使用<code>git revert</code></p><p>git revert是用于“撤销”某一个版本，以达到取消该版本的修改的目的。</p><p>首先</p><div class="language-"><pre><code>git revert -n 需要撤销的commitId
</code></pre></div><p>然后重新提交</p><div class="language-"><pre><code>git commit -m &quot;revert A&quot;
</code></pre></div><p>修改完成，提测吧。</p><p>等待后面产品说，功能A还是修改一下吧，这个时候怎么办？可以对revert的操作继续进行revert，相当于撤销 ”撤销A版本的改动“的改动，禁止套娃~</p><h2 id="git-lfs-大文件" tabindex="-1">git lfs 大文件 <a class="header-anchor" href="#git-lfs-大文件" aria-hidden="true">#</a></h2><p>参考：<a href="https://zzz.buzz/zh/2016/04/19/the-guide-to-git-lfs/" target="_blank" rel="noopener noreferrer">git lfs操作指南</a></p><p>当项目中包含了大量的大文件之后，提交、下载仓库就会变得越来越慢，这在包含静态资源的前端项目中比较常见，解决办法是使用git lfs(Large File Storage, 大文件存储)</p><p>其思路是把音乐、图片、视频等指定的任意文件存在 Git 仓库之外，而在 Git 仓库中用一个占用空间 1KB 不到的文本指针来代替的小工具。</p><h2 id="git-ignore语法规则" tabindex="-1">git ignore语法规则 <a class="header-anchor" href="#git-ignore语法规则" aria-hidden="true">#</a></h2><p>参考：<a href="http://www.07net01.com/2017/02/1815747.html#pinglun" target="_blank" rel="noopener noreferrer">.gitignore 规则写法 - 在已忽略文件夹中不忽略指定文件、文件夹</a></p><p>在已忽略文件夹中不忽略指定文件夹</p><div class="language-shell"><pre><code>/node_modules/*
<span class="token operator">!</span>/node_modules/layer/
</code></pre></div><p>在已忽略文件夹中不忽略指定文件</p><div class="language-shell"><pre><code>/node_modules/*
<span class="token operator">!</span>/node_modules/layer/layer.js
</code></pre></div><p>其他</p><ul><li>以斜杠“/”开头表示目录；</li><li>以星号“*”通配多个字符；</li><li>以问号“?”通配单个字符</li><li>以方括号“[]”包含单个字符的匹配列表；</li><li>以叹号“!”表示不忽略(跟踪)匹配到的文件或目录；</li></ul><h2 id="批量删除git-tag" tabindex="-1">批量删除git tag <a class="header-anchor" href="#批量删除git-tag" aria-hidden="true">#</a></h2><p>在lerna等monorepo项目中，通过git tag来管理发布的包版本，在测试期间可能希望执行注入移除tag，重新发布等操作，因此需要了解移除git tag的操作</p><p>删除本地tag：</p><div class="language-"><pre><code>git tag -d v1.1.1
</code></pre></div><p>批量删除本地tag</p><div class="language-"><pre><code>git tag | grep &quot;v1.1.*&quot; | xargs git tag -d
</code></pre></div><p>删除远程tag</p><div class="language-"><pre><code>git push origin --delete tag v1.1.1
</code></pre></div><p>批量删除远程tag</p><div class="language-"><pre><code>git show-ref --tag | awk &#39;/v1.1.[0-9]{1}[0-9]{0,}$/ {print &quot;:&quot; $2}&#39; | xargs git push origin
</code></pre></div></div></div><footer class="page-footer" data-v-8fcebc32 data-v-b65b4b36><div class="edit" data-v-b65b4b36><div class="edit-link" data-v-b65b4b36 data-v-55695e90><!----></div></div><div class="updated" data-v-b65b4b36><!----></div></footer><div class="next-and-prev-link" data-v-8fcebc32 data-v-e65a9748><div class="container" data-v-e65a9748><div class="prev" data-v-e65a9748><a class="link" href="/interview/前端/业务相关/Web直播" data-v-e65a9748><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-e65a9748><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-e65a9748>Web直播</span></a></div><div class="next" data-v-e65a9748><a class="link" href="/interview/前端/业务相关/mock" data-v-e65a9748><span class="text" data-v-e65a9748>mock</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-e65a9748><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"app_android.md\":\"a181c9ce\",\"app_flutter.md\":\"f515bb02\",\"app_ios.md\":\"1eba1583\",\"app_webview.md\":\"58fc22cc\",\"readme.md\":\"d8359e04\",\"index.md\":\"8c37c295\",\"前端_css_css3.md\":\"a8d69721\",\"前端_css_readme.md\":\"1a0c99cd\",\"前端_css_分辨率.md\":\"6debbf62\",\"前端_css_基础知识.md\":\"bb24a0e9\",\"前端_css_性能优化.md\":\"1d428186\",\"前端_css_核心知识.md\":\"5c8a18aa\",\"前端_css_编写样式表.md\":\"2393cab5\",\"前端_css_选择器.md\":\"8d2efe94\",\"前端_html_html.md\":\"6888f85e\",\"前端_html_seo优化.md\":\"18abd121\",\"前端_html_web components.md\":\"d2e2e387\",\"前端_html_webassembly.md\":\"f763b06c\",\"前端_html_浏览器解析与渲染流程.md\":\"feec3301\",\"前端_javascript_canvas.md\":\"fe71edfd\",\"前端_javascript_dom和bom.md\":\"e386373b\",\"前端_javascript_ecmascript.md\":\"306272b4\",\"前端_javascript_eventloop.md\":\"dad49dfb\",\"前端_javascript_nodejs.md\":\"41aad6fe\",\"前端_javascript_readme.md\":\"1014db19\",\"前端_javascript_typescript.md\":\"87b58e31\",\"前端_javascript_事件流.md\":\"927305b3\",\"前端_javascript_函数式编程.md\":\"8742c510\",\"前端_javascript_原型.md\":\"51e3fc3c\",\"前端_javascript_数据类型.md\":\"7998939f\",\"前端_javascript_正则.md\":\"8b37b015\",\"前端_javascript_运算符.md\":\"21cafa0e\",\"前端_readme.md\":\"ab123e3e\",\"前端_业务相关_ab测试.md\":\"e21b4e67\",\"前端_业务相关_babel.md\":\"223a9049\",\"前端_业务相关_ci.md\":\"843c3666\",\"前端_业务相关_docker.md\":\"9d9bfe23\",\"前端_业务相关_web直播.md\":\"ccfe19c8\",\"前端_业务相关_git.md\":\"ea8aaed1\",\"前端_业务相关_mock.md\":\"0ea359a0\",\"前端_业务相关_npm.md\":\"0320bd1f\",\"前端_业务相关_webpack.md\":\"231ea6bb\",\"前端_业务相关_web安全.md\":\"6f217686\",\"前端_业务相关_前端工程化.md\":\"59a55c3d\",\"前端_业务相关_单元测试.md\":\"105fb80d\",\"前端_业务相关_可视化页面工具.md\":\"a762b606\",\"前端_业务相关_微前端.md\":\"00a64404\",\"前端_业务相关_性能优化.md\":\"22c16637\",\"前端_业务相关_数据埋点.md\":\"4b392fcd\",\"前端_业务相关_模块化.md\":\"699e8fe0\",\"前端_业务相关_类前端业务.md\":\"1518c654\",\"前端_业务相关_调试.md\":\"b74224c3\",\"前端_业务相关_跨端.md\":\"3399295e\",\"前端_库与框架_chrome扩展程序.md\":\"164ec012\",\"前端_库与框架_electron.md\":\"7016de33\",\"前端_库与框架_immutable.md\":\"b3e9c89d\",\"前端_库与框架_readme.md\":\"c02fdd8d\",\"前端_库与框架_react.md\":\"5c2ba656\",\"前端_库与框架_rxjs.md\":\"ee62fdcc\",\"前端_库与框架_svelet.md\":\"0651e73d\",\"前端_库与框架_vue.md\":\"4ab66354\",\"前端_库与框架_vuex.md\":\"0562f61d\",\"前端_库与框架_diff算法.md\":\"421eb89a\",\"前端_库与框架_几种框架的对比.md\":\"6378b5a1\",\"前端_库与框架_单页面应用router.md\":\"c41c8084\",\"前端_库与框架_微信小程序.md\":\"0eabf379\",\"前端_库与框架_技术选型.md\":\"38e95d40\",\"后台_clickhouse.md\":\"078143d4\",\"后台_java.md\":\"d112d350\",\"后台_mongodb.md\":\"a3e4dffb\",\"后台_mysql.md\":\"c195dbea\",\"后台_php.md\":\"791fb60e\",\"后台_readme.md\":\"dcf7fe6d\",\"后台_restful.md\":\"561380b3\",\"导读.md\":\"fbc538c3\",\"数据结构和算法_readme.md\":\"7336ddb0\",\"数据结构和算法_动态规划.md\":\"2c12c37a\",\"数据结构和算法_基本数据结构.md\":\"409b57c2\",\"数据结构和算法_基本算法.md\":\"082e3f23\",\"数据结构和算法_栈.md\":\"498ae413\",\"游戏开发_readme.md\":\"2a2fa357\",\"游戏开发_tiledmap教程汇总.md\":\"9f943a6e\",\"游戏开发_技能系统.md\":\"94d049cb\",\"游戏开发_游戏开发之前的准备.md\":\"c8451bcf\",\"游戏开发_游戏类型.md\":\"2d673e90\",\"源码分析_readme.md\":\"3363b547\",\"源码分析_reactfibler源码分析.md\":\"f04a13c5\",\"源码分析_react源码分析.md\":\"71769f59\",\"源码分析_redux源码分析.md\":\"489f7654\",\"源码分析_axios源码分析.md\":\"b709d6ad\",\"源码分析_koa源码分析.md\":\"099f4a1f\",\"网络_dns.md\":\"da6f33ac\",\"网络_http.md\":\"9b2f2fd5\",\"网络_nginx.md\":\"757b21cb\",\"网络_readme.md\":\"2814b435\",\"网络_rpc.md\":\"651e6edc\",\"网络_前端网络请求.md\":\"dfd29831\",\"网络_抓包.md\":\"14cc2a9a\",\"计算机基础_readme.md\":\"c2582b09\",\"计算机基础_操作系统.md\":\"e8ebf08e\",\"计算机基础_编译原理.md\":\"78e59630\",\"计算机基础_计算机网络.md\":\"9612960b\",\"计算机基础_软件工程.md\":\"a23cd2bf\",\"读书笔记_readme.md\":\"02cec0b1\",\"读书笔记_如何阅读一本书.md\":\"90e7dc29\",\"面试_readme.md\":\"9f7d45aa\",\"面试_面试记录_2017_dae.md\":\"9ffa0cb7\",\"面试_面试记录_2017_te.md\":\"4af7fa04\",\"面试_面试记录_2018_ayldm.md\":\"78e553fb\",\"面试_面试记录_2018_hdjr.md\":\"a7957552\",\"面试_面试记录_2018_md.md\":\"3d273eb4\",\"面试_面试记录_2018_pakj.md\":\"721ccbcc\",\"面试_面试记录_2018_qkcj.md\":\"d74760cb\",\"面试_面试记录_2018_sfwy.md\":\"727f8ae3\",\"面试_面试记录_2018_tw.md\":\"3457798d\",\"面试_面试记录_2018_yhkj.md\":\"15faec21\",\"面试_面试记录_2018_yskj.md\":\"fb191150\",\"面试_面试记录_2018_z8.md\":\"f92e6e47\",\"面试_面试记录_2019_bcz.md\":\"6a50a51a\",\"面试_面试记录_2019_hkjt.md\":\"45565128\",\"面试_面试记录_2019_jrtt.md\":\"657c087c\",\"面试_面试记录_2019_lds.md\":\"5acb47b1\",\"面试_面试记录_2019_qexr.md\":\"cd2da172\",\"面试_面试记录_2019_wblz.md\":\"93a713cf\",\"面试_面试记录_2019_xflx.md\":\"0469f444\",\"面试_面试题_css.md\":\"de7ab8c1\",\"面试_面试题_dom.md\":\"e0bba38e\",\"面试_面试题_ecmascript.md\":\"ebc72eba\",\"面试_面试题_html.md\":\"6869b9ef\",\"面试_面试题_readme.md\":\"3ea870b6\",\"面试_面试题_react.md\":\"b6c9e1fe\",\"面试_面试题_vue.md\":\"33d60e01\",\"面试_面试题_代码实现.md\":\"b7685612\",\"面试_面试题_代码阅读.md\":\"0048adfd\",\"面试_面试题_其他问题.md\":\"4d3285e4\",\"面试_面试题_兼容及bug.md\":\"bdd9bcf3\",\"面试_面试题_常见需求.md\":\"ba5c5b1d\",\"面试_面试题_算法实现.md\":\"24d2121b\",\"面试_面试题_网络.md\":\"c94234b4\"}")</script>
    <script type="module" async src="/interview/assets/app.062798f6.js"></script>
    
  </body>
</html>